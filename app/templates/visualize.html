{% extends "base.html" %}

{% block title %}Sentiment Result{% endblock %}

{% block content %}
<div class="container mt-5">
    <h2 class="text-center mb-4">Sentiment Analysis Result</h2>

    <div class="card shadow-sm">
        <div class="card-body">
            <h5 class="card-title">Uploaded Content:</h5>
            <p class="card-text">{{ content }}</p>

            <!-- 添加字符数和句子数统计 -->
            <p><strong>Character count:</strong> {{ char_count }}</p>
            <p><strong>Sentence count:</strong> {{ sentence_count }}</p>

            <hr>
            <h5 class="card-title">Detected Sentiment:</h5>
            <p class="card-text text-success fw-bold">{{ result }}</p>

            {% if emotion_scores %}
            <hr>
            <h5 class="card-title">Detected Emotions:</h5>
            <ul class="list-group">
                {% for emotion in emotion_scores %}
                <li class="list-group-item d-flex justify-content-between align-items-center">
                    {{ emotion.label | capitalize }}
                    <span class="badge bg-primary rounded-pill">{{ (emotion.score * 100) | round(1) }}%</span>
                </li>
                {% endfor %}
            </ul>
            {% endif %}
        </div>
    </div>

    <div class="text-center mt-4">
        <a href="{{ url_for('upload') }}" class="btn btn-primary">Analyze Another</a>
        <a href="{{ url_for('share') }}" class="btn btn-outline-secondary">Go to My Share</a>
    </div>
</div>
{% endblock %}